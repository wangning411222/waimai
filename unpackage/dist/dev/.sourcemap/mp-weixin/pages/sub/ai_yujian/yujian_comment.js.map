{"version":3,"sources":["uni-app:///main.js","webpack:///C:/project/my/waimai/pages/sub/ai_yujian/yujian_comment.vue?1354","webpack:///C:/project/my/waimai/pages/sub/ai_yujian/yujian_comment.vue?e9f7","webpack:///C:/project/my/waimai/pages/sub/ai_yujian/yujian_comment.vue?7bad","webpack:///C:/project/my/waimai/pages/sub/ai_yujian/yujian_comment.vue?678f","uni-app:///pages/sub/ai_yujian/yujian_comment.vue","webpack:///C:/project/my/waimai/pages/sub/ai_yujian/yujian_comment.vue?6691","webpack:///C:/project/my/waimai/pages/sub/ai_yujian/yujian_comment.vue?3360"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","liuyunoTabs","data","user_show","dele_modal_show","choose_tid","choose_index","tid","quoteid","reply","page","maxpage","thread","thread_reply_list","status","reply_model","report_list","text","report_show","replyid","placeholder","activeUsername","activeUid","computed","onLoad","onReady","onReachBottom","_this","methods","improve_data","confirm","uni","url","init","postThreadRead","title","setTimeout","callback","footerClick","reply_fun","show_reply_model","hidden_reply_model","comment","report_method","click_sheet","like","unlike","dele_modal","delete_post","user_detail","previewImg","imgArr","current","urls","replaylike","replayunlike","onShareAppMessage","console","path"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,uBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACa;;;AAG1E;AACuM;AACvM,gBAAgB,8MAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,iMAEN;AACP,KAAK;AACL;AACA,aAAa,iMAEN;AACP,KAAK;AACL;AACA,aAAa,iMAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,mQAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,oBAAoB;AACpB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvGA;AAAA;AAAA;AAAA;AAA+xB,CAAgB,6xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC+OnzB;AAEA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MAAA;;MAEAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;MACA;QACAA;MACA;QACAA;MACA;QACAA;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC,0CACA,+BACA,WACA,IACA,iCACA,SACA,EACA;EACAC;IAAA;IACA;EACA;EACAC;IACA;EACA;EAEAC;IACA;IACA;IAEA;MAEA;QACAC;MACA;IACA;MACAA;IACA;EAEA;EACAC;IACAC;MACA;QACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACAC;QACAC;MACA;IACA;IACAC;MAEA;IACA;IACAC;MAAA;MACA;MACAP;QACA;QACA;MACA;QACA;UACA;YACAA;cACAQ;YACA;YACAC;cACAL;YACA;YACA;UACA;UACA;YACAJ;UACA;UACA;UACAA;UAEAA;UACA;YACAA;UACA;UACAU;QACA,QAEA;MACA;IACA;IACAC;MACA;QACA;UACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MAEA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;QACA;UACA;UACA;UACA;UACA;QACA;UACA;YACA;YACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;YACA;YACA;YACAf;YACAA;YACAA;UACA;YACAA;cACAQ;YACA;UACA;QACA;MACA;IAEA;IACAQ;MACA;MACA;QACA;MACA;QACA;MACA;IAEA;IACAC;MACA;MACA;QACA;QACA;QACA;MACA;QACA;UACAjB;YACAQ;UACA;QACA;UACAR;YACAQ;UACA;QACA;MACA;IACA;IACAU;MACA;QACA;MACA;MAEA;MACA;QACA;MACA;QACA;UACA;UACAlB;UACAA;QACA,QAEA;MACA;IACA;IACAmB;MACA;QACA;MACA;MAEA;MACA;QACA;MACA;QACA;UACA;UACAnB;UACAA;QACA,QAEA;MACA;IACA;IACAoB;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACA9C;UACA;QACA;MACA;QACAA;UACA;UACA;QACA;MACA;MACAyB;QACA;UACA;YACAA;UACA;YACAI;UACA;UAEAJ;YACAQ;UACA;QACA;UACAR;YACAQ;UACA;QACA;MACA;IACA;IACAc;MACAlB;QACAC;MACA;IACA;IACAkB;MAEA;MACA;QACAC;MACA;MACApB;QACAqB;QACAC;MACA;IACA;IACAC;MAAA;MACA;QACA;MACA;MAEA;MAEA;QACA;MACA;QACA;UACA;YACA;YACA3B;YACAA;UACA;YACA;YACAA;YACAA;UACA;QAEA,QAEA;MACA;IACA;IACA4B;MAAA;MACA;QACA;MACA;MAEA;MACA;QACA;MACA;QACA;UAEA;YACA;YACA5B;YACAA;UACA;YACA;YACAA;YACAA;UACA;QACA,QAEA;MACA;IACA;EACA;EACA6B;IACAC;IACA;MACAtB;MACAuB;IACA;IACA;MACAxD;IACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC3lBA;AAAA;AAAA;AAAA;AAA0nC,CAAgB,olCAAG,EAAC,C;;;;;;;;;;;ACA9oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/sub/ai_yujian/yujian_comment.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/sub/ai_yujian/yujian_comment.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./yujian_comment.vue?vue&type=template&id=7f1459a0&\"\nvar renderjs\nimport script from \"./yujian_comment.vue?vue&type=script&lang=js&\"\nexport * from \"./yujian_comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./yujian_comment.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sub/ai_yujian/yujian_comment.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yujian_comment.vue?vue&type=template&id=7f1459a0&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uRow: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-row/u-row\" */ \"@/uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-col/u-col\" */ \"@/uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    uGap: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-gap/u-gap\" */ \"@/uview-ui/components/u-gap/u-gap.vue\"\n      )\n    },\n    uLoadmore: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-empty/u-empty\" */ \"@/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uActionSheet: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-action-sheet/u-action-sheet\" */ \"@/uview-ui/components/u-action-sheet/u-action-sheet.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = JSON.stringify(_vm.thread)\n  var g1 = g0 != \"{}\" ? _vm.thread.img_arr.length : null\n  var g2 = g0 != \"{}\" ? _vm.thread_reply_list.length : null\n  var l0 =\n    g0 != \"{}\" && g2 > 0\n      ? _vm.__map(_vm.thread_reply_list, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var g3 = item.current_reply_list.length\n          return {\n            $orig: $orig,\n            g3: g3,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yujian_comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yujian_comment.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page_box\">\r\n\t\t<view v-if=\"JSON.stringify(thread) != '{}'\">\r\n\t\t\t<view class=\"uni-card uni-border\">\r\n\t\t\t\t<view class=\"uni-card__title uni-border-bottom\">\r\n\t\t\t\t\t<view class=\"uni-card__title-box\">\r\n\t\t\t\t\t\t<view class=\"uni-card__title-header\" @click=\"user_detail(thread.uid)\">\r\n\t\t\t\t\t\t\t<image :src=\"thread.avatar_url\" class=\"uni-card__title-header-image\" mode=\"scaleToFill\"\r\n\t\t\t\t\t\t\t\trole=\"img\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"uni-card__title-content\">\r\n\t\t\t\t\t\t\t<view class=\"uni-card__title-content-title uni-ellipsis\">\r\n\t\t\t\t\t\t\t\t{{ thread.nick_name }}\r\n\t\t\t\t\t\t\t\t<u-icon v-if=\"thread.sex == 1\" name=\"man\" size=\"28\"></u-icon>\r\n\t\t\t\t\t\t\t\t<u-icon v-if=\"thread.sex == 2\" name=\"woman\" size=\"28\"></u-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"uni-card__title-content-extra uni-ellipsis\">{{ thread.school }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"userInfo.gid != 1 && userInfo.gid !=5\" @click.stop=\"report_method(1,0)\"\r\n\t\t\t\t\t\tstyle=\"color: #BBBBBB;\">\r\n\t\t\t\t\t\t<u-icon name=\"warning\"></u-icon> 举报\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"userInfo.gid == 1 || userInfo.gid==5\" style=\"align-self: flex-start;color: #AAAAAA;\"\r\n\t\t\t\t\t\t@click=\"dele_modal(thread.tid,999)\">\r\n\t\t\t\t\t\t<u-icon name=\"trash\"></u-icon>删除\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-card__content uni-card__content--pd\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"content-box\" style=\"padding-bottom: 0;\">\r\n\t\t\t\t\t\t\t<text class=\"content-box-text\">{{ thread.message }}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<u-row style=\"text-align: center;\" v-if=\"thread.img_arr.length > 0\">\r\n\t\t\t\t\t\t\t<u-col span=\"4\" text-align=\"center\" v-for=\"(it, i) in thread.img_arr\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t<image class=\"image\" mode=\"aspectFill\" :src=\"it.url\" @click.stop=\"previewImg(i)\" />\r\n\t\t\t\t\t\t\t</u-col>\r\n\t\t\t\t\t\t</u-row>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-card__footer uni-border-top\">\r\n\t\t\t\t\t<view class=\"footer-box\">\r\n\t\t\t\t\t\t<view>{{ thread.create_date_fmt }}</view>\r\n\t\t\t\t\t\t<view style=\"text-align: right;\">\r\n\t\t\t\t\t\t\t<view v-if=\"thread.is_like == 0\" @click.stop=\"like(thread.tid)\"\r\n\t\t\t\t\t\t\t\tstyle=\"margin-right: 25rpx; display: inline-block;\">\r\n\t\t\t\t\t\t\t\t<u-icon name=\"heart\" size=\"28\"></u-icon>\r\n\t\t\t\t\t\t\t\t<text v-if=\"thread.likes != 0\"> {{ thread.likes }}</text>\r\n\t\t\t\t\t\t\t\t点赞\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-if=\"thread.is_like != 0\" @click.stop=\"unlike(thread.tid)\"\r\n\t\t\t\t\t\t\t\tstyle=\"margin-right: 25rpx; display: inline-block;\">\r\n\t\t\t\t\t\t\t\t<u-icon name=\"heart-fill\" color=\"red\" size=\"28\"></u-icon>\r\n\t\t\t\t\t\t\t\t<text v-if=\"thread.likes != 0\"> {{ thread.likes }}</text>\r\n\t\t\t\t\t\t\t\t点赞\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<view @click.stop=\"footerClick('comment',thread.nick_name)\" style=\"display: inline-block;\">\r\n\t\t\t\t\t\t\t\t<u-icon name=\"chat\" size=\"28\"></u-icon><text v-if=\"thread.posts != 0\">{{ thread.posts }}</text> 评论\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"height: 150rpx; background: #efefef;\">\r\n\t\t\t\t<navigator open-type=\"redirect\" :url=\"config.thread_img_href\" style=\"height: 100%;\">\r\n\t\t\t\t\t<image :src=\"config.thread_img\" ></image>\r\n\t\t\t\t</navigator>\r\n\t\t\t</view>\r\n\t\t\t<u-gap height=\"12\" bg-color=\"#eeeeee\"></u-gap>\r\n\t\t\t<view class=\"post_box\" v-if=\"thread_reply_list.length > 0\">\r\n\t\t\t\t<view v-for=\"(item,index) in thread_reply_list\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"uni-card uni-border\">\r\n\t\t\t\t\t\t<view class=\"uni-card__title uni-border-bottom\">\r\n\t\t\t\t\t\t\t<view class=\"uni-card__title-box\" style=\"align-items: normal;\">\r\n\t\t\t\t\t\t\t\t<view class=\"uni-card__title-header\" @click=\"user_detail(item.fromuid)\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.avatar_url\" class=\"uni-card__title-header-image\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"scaleToFill\" role=\"img\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"uni-card__title-content\" style=\"height: auto;\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"uni-card__title-content-title uni-ellipsis\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t\t<view style=\"flex: 1;\">{{ item.nick_name }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<!-- v-if=\"userInfo.gid == 1 || userInfo.gid==5\" -->\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"userInfo.gid == 1 || userInfo.gid==5\" style=\"align-self: flex-start;color: #AAAAAA;\"\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"dele_modal(item.replyid,index)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"trash\"></u-icon>删除\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"uni-card__title-content-extra uni-ellipsis\" style=\"line-height: normal;\">{{ item.school }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"uni-card__content uni-card__content--pd\" style=\"padding: 0; margin: 10rpx 0;\">\r\n\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"content-box\" style=\"padding-bottom: 0;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"content-box-text\">{{ item.reply_msg }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"uni-card__footer uni-border-top\" style=\"padding: 0;\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"footer-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text style=\"color: #999;\">{{ item.create_date_fmt }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view style=\"text-align: right;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.is_like == 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"replaylike(item.replyid,index)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin-right: 25rpx; display: inline-block;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"heart\" size=\"28\"></u-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.likes != 0\"> {{ item.likes }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t点赞\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.is_like != 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"replayunlike(item.replyid,index)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin-right: 25rpx; display: inline-block;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"heart-fill\" color=\"red\" size=\"28\"></u-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.likes != 0\"> {{ item.likes }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t点赞\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view @click.stop=\"reply_fun(item.replyid,item.nick_name,item.fromuid)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"display: inline-block;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"chat\" size=\"28\"></u-icon> 回复\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<!-- 二层回复 -->\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.current_reply_list.length > 0\">\r\n\t\t\t\t\t\t\t\t\t\t<view v-for=\"(item2,index2) in item.current_reply_list\" :key=\"index2\" style=\"margin-top: 25rpx;\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"uni-card uni-border\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"uni-card__title uni-border-bottom uni-card__title2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"uni-card__title-box\" style=\"align-items: normal;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"uni-card__title-header uni-card__title-header2\" @click=\"user_detail(item2.fromuid)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"item2.avatar_url\" class=\"uni-card__title-header-image\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\" role=\"img\" style=\"width: 100%;\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"uni-card__title-content\" style=\"height: auto;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"uni-card__title-content-title uni-ellipsis\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view style=\"flex: 1; color: #aaa;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item2.nick_name }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.fromuid != item2.touid\">▶{{ item2.tousername }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- v-if=\"userInfo.gid == 1 || userInfo.gid==5\" -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"userInfo.gid == 1 || userInfo.gid==5\" style=\"align-self: flex-start;color: #AAAAAA;\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"dele_modal(item2.replyid,index,index2)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"trash\"></u-icon>删除\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"uni-card__title-content-extra uni-ellipsis\" style=\"line-height: normal;\">{{ item2.school }}</view> -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"uni-card__content uni-card__content--pd\" style=\"padding: 0; margin: 10rpx 0;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"content-box\" style=\"padding-bottom: 0;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"content-box-text\">{{ item2.reply_msg }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"uni-card__footer uni-border-top\" style=\"padding: 0;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"footer-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text style=\"color: #999;\">{{ item2.create_date_fmt }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view style=\"text-align: right;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item2.is_like == 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"replaylike(item2.replyid,index,index2)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin-right: 25rpx; display: inline-block;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"heart\" size=\"28\"></u-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item2.likes != 0\"> {{ item2.likes }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t点赞\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item2.is_like != 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"replayunlike(item2.replyid,index,index2)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin-right: 25rpx; display: inline-block;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"heart-fill\" color=\"red\" size=\"28\"></u-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item2.likes != 0\"> {{ item2.likes }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t点赞\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view @click.stop=\"reply_fun(item.replyid,item2.nick_name,item2.fromuid)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"display: inline-block;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"chat\" size=\"28\"></u-icon> 回复\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-gap height=\"1\" bg-color=\"#ebecf6\"></u-gap>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view v-if=\"maxpage > 1\">\r\n\t\t\t\t\t<u-loadmore :status=\"status\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-else class=\"empty_box\">\r\n\t\t\t\t<u-empty text=\"暂无回复\" src=\"../../../static/imgs/empty.png\" icon-size=\"300\"></u-empty>\r\n\t\t\t</view>\r\n\t\t\t<view v-show=\"reply_model\" @click=\"hidden_reply_model\"\r\n\t\t\t\tstyle=\"position: fixed;top: 0;bottom: 0; left: 0; right: 0;z-index: 2; width: 100%;height: 100vh;background-color: rgba(0,0,0,0.2);\">\r\n\t\t\t</view>\r\n\t\t\t<view v-show=\"reply_model\" class=\"bottom_btn\">\r\n\t\t\t\t<view class=\"collect_left\">\r\n\t\t\t\t\t<u-input v-model=\"reply\" :placeholder=\"placeholder\" type=\"text\" :border=\"true\"\r\n\t\t\t\t\t\tstyle=\"width: 100%;\" />\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"primary\" @click=\"comment()\">\r\n\t\t\t\t\t<text>发表</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-action-sheet :list=\"report_list\" v-model=\"report_show\" @click=\"click_sheet\"></u-action-sheet>\r\n\t\t<u-toast ref=\"uToast\" />\r\n\t\t<u-modal v-model=\"user_show\" show-cancel-button=\"true\" content=\"请先完善个人资料,否则将影响您的点赞/评论/购物等操作权限,确定？\"\r\n\t\t\t@confirm=\"confirm\"></u-modal>\r\n\t\t<u-modal v-model=\"dele_modal_show\" show-cancel-button=\"true\" content=\"确定删除？\" @confirm=\"delete_post\"\r\n\t\t\tconfirm-color=\"#6ee4c1\"></u-modal>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport liuyunoTabs from \"@/components/liuyuno-tabs/liuyuno-tabs.vue\";\r\n\timport {\r\n\t\tmapGetters\r\n\t} from 'vuex'\n\t\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tliuyunoTabs\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuser_show: false, // 是否填写了资料\r\n\r\n\t\t\t\tdele_modal_show: false,\r\n\t\t\t\tchoose_tid: 0,\r\n\t\t\t\tchoose_index: 0,\r\n\r\n\t\t\t\ttid: 1,\r\n\t\t\t\tquoteid: 0,\r\n\t\t\t\treply: '',\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tmaxpage: 0,\r\n\t\t\t\tthread: {},\r\n\t\t\t\tthread_reply_list: [],\r\n\t\t\t\tstatus: 'loadmore',\r\n\t\t\t\treply_model: false,\r\n\t\t\t\treport_list: [{\r\n\t\t\t\t\ttext: '垃圾信息',\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: '内容违规',\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: '不友善内容'\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: '内容质量低'\r\n\t\t\t\t}],\r\n\t\t\t\treport_show: false,\r\n\t\t\t\treplyid: 0,\r\n\t\t\t\tplaceholder: '',\r\n\t\t\t\tactiveUsername: '',\r\n\t\t\t\tactiveUid:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters('user', [\r\n\t\t\t\t'userInfo'\r\n\t\t\t]),\r\n\t\t\t...mapGetters('config', [\r\n\t\t\t\t'config'\r\n\t\t\t])\r\n\t\t},\r\n\t\tonLoad: function(option) { //option为object类型，会序列化上个页面传递的参数\r\n\t\t\tthis.tid = option.tid;\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.init(this.tid);\r\n\t\t},\r\n\r\n\t\tonReachBottom() {\r\n\t\t\tlet _this = this;\r\n\t\t\tthis.status = 'loading';\r\n\r\n\t\t\tif (this.maxpage > 1 && _this.page <= _this.maxpage) {\r\n\r\n\t\t\t\tthis.postThreadRead(_this.tid, _this.page, function() {\r\n\t\t\t\t\t_this.status = 'loadmore';\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t_this.status = 'nomore';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\timprove_data(is_cert) {\r\n\t\t\t\tif (is_cert == 0) {\r\n\t\t\t\t\tthis.user_show = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tconfirm() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/sub/center/userinfo_add'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tinit: function(tid) {\r\n\r\n\t\t\t\tthis.postThreadRead(tid, this.page);\r\n\t\t\t},\r\n\t\t\tpostThreadRead(tid, page, callback = () => {}) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t_this.$store.dispatch('ai_yujian/getThreadRead', {\r\n\t\t\t\t\t'tid': tid,\r\n\t\t\t\t\t'page': page\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tif (res.message.thread && res.message.thread.length == 0) {\r\n\t\t\t\t\t\t\t_this.$refs.uToast.show({\r\n\t\t\t\t\t\t\t\ttitle: '内容不存在'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (res.message.thread && page == 1) {\r\n\t\t\t\t\t\t\t_this.thread = res.message.thread;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// _this.thread_reply_list = res.message.thread_reply_list;\n\t\t\t\t\t\t_this.thread_reply_list = _this.thread_reply_list.concat(res.message.thread_reply_list);\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_this.maxpage = res.message.maxpage;\r\n\t\t\t\t\t\tif (_this.maxpage > 1 && _this.page <= _this.maxpage) {\r\n\t\t\t\t\t\t\t_this.page++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tfooterClick(types, username) {\r\n\t\t\t\tif (types == 'comment') {\r\n\t\t\t\t\tif (!this.improve_data(this.userInfo.is_cert)) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.placeholder = '回复' + username;\r\n\t\t\t\t\tthis.activeUsername = username;\r\n\t\t\t\t\tthis.quoteid = 0;\r\n\t\t\t\t\tthis.show_reply_model()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\treply_fun(quoteid, username, touid) {\r\n\t\t\t\tthis.quoteid = quoteid;\r\n\t\t\t\tthis.placeholder = '回复' + username;\r\n\t\t\t\tthis.activeUsername = username;\r\n\t\t\t\tthis.activeUid = touid;\r\n\r\n\t\t\t\tthis.show_reply_model()\r\n\t\t\t},\r\n\t\t\tshow_reply_model() {\r\n\t\t\t\tthis.reply_model = true;\r\n\t\t\t},\r\n\t\t\thidden_reply_model() {\r\n\t\t\t\tthis.placeholder = '';\r\n\t\t\t\tthis.reply_model = false;\r\n\t\t\t},\r\n\t\t\tcomment() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tif (this.reply != null) {\r\n\t\t\t\t\tthis.$store.dispatch('ai_yujian/postThreadReply', {\r\n\t\t\t\t\t\t'reply': _this.reply,\r\n\t\t\t\t\t\t'tid': _this.tid,\r\n\t\t\t\t\t\t'quoteid': _this.quoteid,\r\n\t\t\t\t\t\t'touid': _this.activeUid\r\n\t\t\t\t\t}, ).then((res) => {\r\n\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\tlet userInfo = uni.getStorageSync('userInfo');\r\n\t\t\t\t\t\t\tlet reply_list = {\r\n\t\t\t\t\t\t\t\t'avatar_url': userInfo.avatar_url_fmt,\r\n\t\t\t\t\t\t\t\t'nick_name': userInfo.nick_name,\r\n\t\t\t\t\t\t\t\t'city': userInfo.city,\r\n\t\t\t\t\t\t\t\t'school': userInfo.school,\r\n\t\t\t\t\t\t\t\t'fromuid': userInfo.uid,\r\n\t\t\t\t\t\t\t\t'replyid': res.message,\r\n\t\t\t\t\t\t\t\t'quoteid': _this.quoteid,\r\n\t\t\t\t\t\t\t\t'reply_msg': _this.reply,\r\n\t\t\t\t\t\t\t\t'create_date_fmt': '刚刚',\r\n\t\t\t\t\t\t\t\t'tousername': _this.activeUsername,\r\n\t\t\t\t\t\t\t\t'touid': _this.activeUid,\r\n\t\t\t\t\t\t\t\t'tid': _this.thread.tid,\r\n\t\t\t\t\t\t\t\t'is_like': 0,\r\n\t\t\t\t\t\t\t\t'likes': \"0\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// _this.thread_reply_list.unshift(reply_list);\r\n\t\t\t\t\t\t\t_this.reply_model = false;\r\n\t\t\t\t\t\t\t_this.reply = '';\r\n\t\t\t\t\t\t\t_this.init(_this.tid);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.$refs.uToast.show({\r\n\t\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\treport_method(type, rid) {\r\n\t\t\t\tthis.report_show = true;\r\n\t\t\t\tif (type == 1) {\r\n\t\t\t\t\tthis.replyid = 0;\r\n\t\t\t\t} else if (type == 2) {\r\n\t\t\t\t\tthis.replyid = rid;\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tclick_sheet(index) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tthis.$store.dispatch('ai_yujian/postThreadReport', {\r\n\t\t\t\t\t'tid': _this.tid,\r\n\t\t\t\t\t'replyid': _this.replyid,\r\n\t\t\t\t\t'type': index\r\n\t\t\t\t}, ).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t_this.$refs.uToast.show({\r\n\t\t\t\t\t\t\ttitle: \"举报已提交\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$refs.uToast.show({\r\n\t\t\t\t\t\t\ttitle: res.message,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tlike() {\r\n\t\t\t\tif (!this.improve_data(this.userInfo.is_cert)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tthis.$store.dispatch('ai_yujian/postThreadLike', {\r\n\t\t\t\t\t'tid': _this.tid\r\n\t\t\t\t}, ).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tlet likes = _this.thread['likes'];\r\n\t\t\t\t\t\t_this.thread['likes'] = Number(likes) + 1;\r\n\t\t\t\t\t\t_this.thread['is_like'] = 1;\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tunlike() {\r\n\t\t\t\tif (!this.improve_data(this.userInfo.is_cert)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tthis.$store.dispatch('ai_yujian/postThreadUnlike', {\r\n\t\t\t\t\t'tid': _this.tid\r\n\t\t\t\t}, ).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tlet likes = _this.thread['likes'];\r\n\t\t\t\t\t\t_this.thread['likes'] = Number(likes) - 1;\r\n\t\t\t\t\t\t_this.thread['is_like'] = 0;\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdele_modal(tid, index) {\r\n\t\t\t\tthis.dele_modal_show = true;\r\n\t\t\t\tthis.choose_tid = tid;\r\n\t\t\t\tthis.choose_index = index;\r\n\t\t\t},\r\n\t\t\tdelete_post() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tlet data = {};\r\n\t\t\t\tif (this.choose_index == 999) {\r\n\t\t\t\t\tdata = {\r\n\t\t\t\t\t\t'tid': this.choose_tid\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata = {\r\n\t\t\t\t\t\t'tid': this.thread.tid,\r\n\t\t\t\t\t\t'replyid': this.choose_tid\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\t_this.$store.dispatch('user/deleThread', data).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tif (_this.choose_index != 999) {\r\n\t\t\t\t\t\t\t_this.thread_reply_list.splice(_this.choose_index, 1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.navigateTo({});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_this.$refs.uToast.show({\r\n\t\t\t\t\t\t\ttitle: res.message,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$refs.uToast.show({\r\n\t\t\t\t\t\t\ttitle: res.message,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tuser_detail(uid) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/sub/ai_user/index?uid=' + uid\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tpreviewImg(photoIndex) {\r\n\r\n\t\t\t\tlet imgArr = []\r\n\t\t\t\tthis.thread.img_arr.forEach(res => {\r\n\t\t\t\t\timgArr.push(res.url)\r\n\t\t\t\t})\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent: photoIndex,\r\n\t\t\t\t\turls: imgArr\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\treplaylike(replyid, index, index2 = '') {\r\n\t\t\t\tif (!this.improve_data(this.userInfo.is_cert)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t\r\n\t\t\t\tthis.$store.dispatch('ai_yujian/postReplyLike', {\r\n\t\t\t\t\t'replyid': replyid\r\n\t\t\t\t}, ).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tif(index2 === '') {\r\n\t\t\t\t\t\t\tlet likes = _this.thread_reply_list[index]['likes'];\r\n\t\t\t\t\t\t\t_this.$set(_this.thread_reply_list[index], 'likes', Number(likes) + 1);\r\n\t\t\t\t\t\t\t_this.$set(_this.thread_reply_list[index], 'is_like', 1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet likes = _this.thread_reply_list[index]['current_reply_list'][index2]['likes'];\r\n\t\t\t\t\t\t\t_this.$set(_this.thread_reply_list[index]['current_reply_list'][index2], 'likes', Number(likes) + 1);\r\n\t\t\t\t\t\t\t_this.$set(_this.thread_reply_list[index]['current_reply_list'][index2], 'is_like', 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\treplayunlike(replyid, index, index2 = '') {\r\n\t\t\t\tif (!this.improve_data(this.userInfo.is_cert)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tthis.$store.dispatch('ai_yujian/postReplyUnlike', {\r\n\t\t\t\t\t'replyid': replyid\r\n\t\t\t\t}, ).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\r\n\t\t\t\t\t\tif(index2 === '') {\r\n\t\t\t\t\t\t\tlet likes = _this.thread_reply_list[index]['likes'];\r\n\t\t\t\t\t\t\t_this.$set(_this.thread_reply_list[index], 'likes', Number(likes) - 1);\r\n\t\t\t\t\t\t\t_this.$set(_this.thread_reply_list[index], 'is_like', 0);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet likes = _this.thread_reply_list[index]['current_reply_list'][index2]['likes'];\r\n\t\t\t\t\t\t\t_this.$set(_this.thread_reply_list[index]['current_reply_list'][index2], 'likes', Number(likes) - 1);\r\n\t\t\t\t\t\t\t_this.$set(_this.thread_reply_list[index]['current_reply_list'][index2], 'is_like', 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tonShareAppMessage() {\r\n\t\t\tconsole.log(this.thread)\r\n\t\t\tlet data = {\r\n\t\t\t\ttitle: this.thread.message,\r\n\t\t\t\tpath: '/pages/sub/ai_yujian/yujian_comment?tid='+ this.thread.tid\r\n\t\t\t}\r\n\t\t\tif(this.thread.img_arr.length > 0) {\r\n\t\t\t\tdata['imageUrl'] = this.thread.img_arr[0].url\r\n\t\t\t}\r\n\t\t\treturn data\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@charset \"UTF-8\";\r\n\r\n\tpage {\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.page_box {\r\n\t\t/* padding: 0 20rpx 25rpx; */\r\n\t}\r\n\r\n\t.empty_box {\r\n\t\twidth: 100%;\r\n\t\tpadding-top: 80rpx;\r\n\t\t/* position: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 35%; */\r\n\t}\r\n\r\n\t.uni-card {\r\n\t\tmargin: 0 !important;\r\n\t}\r\n\r\n\r\n\r\n\t.image {\r\n\r\n\t\twidth: 210rpx;\r\n\t\theight: 210rpx;\r\n\r\n\t}\r\n\r\n\t.content-box {\r\n\t\tfont-size: 38rpx;\r\n\t\tpadding-bottom: 20rpx;\r\n\t}\r\n\r\n\t.content-box-text {\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 22px;\r\n\t}\r\n\r\n\t.footer-box {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tjustify-content: space-between;\r\n\t\tflex-direction: row;\r\n\t\tcolor: #aaa;\r\n\t}\r\n\r\n\t.footer-box__item {\r\n\t\talign-items: center;\r\n\t\tpadding: 2px 0;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.post_box .uni-border-top:after {\r\n\t\tborder-top: unset !important;\r\n\t}\r\n\r\n\r\n\t.bottom_btn {\r\n\t\twidth: 100%;\r\n\t\theight: 120rpx;\r\n\t\tpadding: 0 25rpx;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 3;\r\n\t\tborder-top: 1px solid #eee;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.collect_left {\r\n\t\twidth: 550rpx;\r\n\t\theight: 120rpx;\r\n\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\r\n\t\tfloat: left;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tcolor: #aaaaaa;\r\n\t}\r\n\r\n\t.bottom_btn .primary {\r\n\t\twidth: 150rpx;\r\n\t\theight: 120rpx;\r\n\t\tline-height: 120rpx;\r\n\t\toverflow: hidden;\r\n\t\ttext-align: center;\r\n\t\tcolor: #FFFFFF;\r\n\r\n\t}\r\n\r\n\t.bottom_btn .primary text {\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tborder-radius: 5rpx;\r\n\t\tbackground-color: #6ee4c1;\r\n\t}\r\n\t.uni-card__title-header {\r\n\t\twidth: 35px;\r\n\t\theight: 35px;\r\n\t}\r\n\t.uni-card__title-header2 {\r\n\t\twidth: 25px;\r\n\t\theight: 25px;\r\n\t}\r\n\t.uni-card__title2 {\r\n\t\tpadding: 0;\r\n\t}\r\n\t\r\n\r\n\r\n</style>\n","import mod from \"-!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yujian_comment.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yujian_comment.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1693387934702\n      var cssReload = require(\"C:/project/hbuildx/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}